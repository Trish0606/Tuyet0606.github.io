<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tuyet Nguyen Portfolio</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header class="hero">
        <div class="butterfly-field">
            <div class="bf" data-speed="0.03" style="top: 15%; left: 10%;"></div>
            <div class="bf" data-speed="0.05" style="top: 65%; left: 80%;"></div>
            <div class="bf" data-speed="0.04" style="top: 25%; left: 75%;"></div>
            <div class="bf" data-speed="0.06" style="top: 80%; left: 20%;"></div>
            <div class="bf" data-speed="0.04" style="top: 45%; left: 45%;"></div>
        </div>
        
        <div class="hero-content">
            <p>Hello, I'm</p>
            <h1 class="hero-name">Tuyet Nguyen</h1>
            <a href="#" class="btn-say-hello">Say Hello</a>
        </div>
    </header>

    <script>
        const bfs = document.querySelectorAll('.bf');
        let mX = -2000; 
        let mY = -2000;

        document.addEventListener('mousemove', (e) => {
            mX = e.clientX;
            mY = e.clientY;
        });

        function animate(time) {
            bfs.forEach((bf, i) => {
                const rect = bf.getBoundingClientRect();
                const speed = parseFloat(bf.getAttribute('data-speed'));
                
                // Get the 'Home' position from the initial CSS style
                const homeX = (window.innerWidth * (parseInt(bf.style.left) / 100));
                const homeY = (window.innerHeight * (parseInt(bf.style.top) / 100));

                // 1. Erratic Idle Flight (Unique per butterfly)
                const driftX = homeX + Math.sin(time * 0.001 + i) * 150;
                const driftY = homeY + Math.cos(time * 0.0008 + i) * 150;

                const curX = rect.left + rect.width / 2;
                const curY = rect.top + rect.height / 2;
                const dist = Math.hypot(mX - curX, mY - curY);

                let targetX, targetY, lerp;

                if (dist < 250) {
                    targetX = mX;
                    targetY = mY;
                    lerp = speed * 2; // Follow speed
                } else {
                    targetX = driftX;
                    targetY = driftY;
                    lerp = 0.02; // Drift back speed
                }

                const finalX = curX + (targetX - curX) * lerp;
                const finalY = curY + (targetY - curY) * lerp;

                bf.style.left = finalX + 'px';
                bf.style.top = finalY + 'px';

                // Rotate towards movement
                const angle = Math.atan2(targetY - curY, targetX - curX) * (180 / Math.PI);
                bf.style.transform = `translate(-50%, -50%) rotate(${angle + 90}deg)`;
            });
            requestAnimationFrame(animate);
        }
        requestAnimationFrame(animate);
    </script>
</body>
</html>
